<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Survey Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.2/css/bulma.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"></script>
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Audiowide|Shadows+Into+Light" rel="stylesheet">
    <link href="/assets/css/style.css" rel="stylesheet">

</head>

<body>
    <section class="hero is-primary is-bold">
        <a class="navbar-brand" href="/logout">Logout</a>
        <div class="hero-body">
            <div class="container">
                <img class="tree" src="https://cdn3.iconfinder.com/data/icons/beach-icons/496/Palm_Trees-512.png"
                    height="100" width="100" align="left" alt="">
                <h1 class="title">
                    RAFT
                </h1>
                <h2 class="subtitle">
                    Stop drowning in your travel planning anxiety
                </h2>
                <img class="raft" src="https://image.flaticon.com/icons/png/512/208/208590.png" height="100" width="100"
                    align="right" alt="">
            </div>
        </div>
    </section>
    <br>

    <div class="container">
        <div>
            <p class="title is-1 is-center">Travel Questions</p>

            <hr>
            <p class="title is-3">Question 1</p>
            <p class="subtitle is-5">What kind of climate do you enjoy?</p>
            <div class="field">
                <div class="control">
                    <div class="select is-primary is-medium is-rounded">

                        <select data-placeholder="" class="chosen-select" id="q1">
                            <option value=""></option>
                            <option value="1">Sunny</option>
                            <option value="2">Tropical</option>
                            <option value="3">Snowy</option>
                            <option value="4">Temperate</option>
                        </select>
                    </div>
                </div>
            </div>

            <p class="title is-3">Question 2</p>
            <p class="subtitle is-5">What time of the year do you plan on traveling?</p>
            <div class="field">
                <div class="control">
                    <div class="select is-primary is-medium is-rounded">
                        <select data-placeholder="" class="chosen-select" id="q2">
                            <option value=""></option>
                            <option value="1">Fall</option>
                            <option value="2">Winter</option>
                            <option value="3">Spring</option>
                            <option value="4">Summer</option>
                        </select>
                    </div>
                </div>
            </div>
            
            
            <p class="title is-3">Question 3</p>
            <p class="subtitle is-5">What kind of travel setting do you enjoy?</p>
            <div class="field">
                <div class="control">
                    <div class="select is-primary is-medium is-rounded">
                        <select data-placeholder="" class="chosen-select" id="q3">
                            <option value=""></option>
                            <option value="1">Relaxing</option>
                            <option value="2">Adventure</option>
                        </select>
                    </div>
                </div>
            </div>
            
            
            <p class="title is-3">Question 4</p>
            <p class="subtitle is-5">Do you enjoy taveling with others?</p>
            <div class="field">
                <div class="control">
                    <div class="select is-primary is-medium is-rounded">
                        <select data-placeholder="" class="chosen-select" id="q4">
                            <option value=""></option>
                            <option value="1">Yes</option>
                            <option value="2">No</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
       
       
        <p class="title is-3">Question 5</p>
        <p class="subtitle is-5">Do you enjoy outdoor adventures?</p>
        <div class="field">
            <div class="control">
                <div class="select is-primary is-medium is-rounded">
                    <select data-placeholder="" class="chosen-select" id="q5">
                        <option value=""></option>
                        <option value="1">Yes</option>
                        <option value="2">No</option>
                    </select>
                </div>
            </div>
        </div>





        <br>
        <br>


        <button href="/travelList" type="submit" class="button is-primary is-rounded" id="submit"><i class="fa fa-check-circle"
                aria-hidden="true"></i>
            Submit</button>

        <hr>
        <footer class="footer">
            <!-- <div class="container">
                    <p><a href="#">API Friends List</a> | <a href="#"> GitHub Repo</a></p>
                </div> -->
        </footer>

    </div>


    <div id="resultsModal" class="modal fade" role="dialog">
        <div class="modal-dialog">


            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h2 class="modal-title"><strong>Best Match</strong></h2>
                </div>
                <div class="modal-body">
                    <h2 id="matchName"></h2>
                    <img id="matchImg" src="file:///Users/lisavanorden/Documents/RCB_files/week13_files/wk13_hw/friendfinder/assets/images/floya_avatar_pic.jpg"
                        alt="">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>
    <footer class="footer">
        <div class="content has-text-centered">
            <p class="title is-1 is-primary">
                &copy;RAFT
            </p>
        </div>
    </footer>

    <script type="text/javascript">

        var config = {
            '.chosen-select': {},
            '.chosen-select-deselect': { allow_single_deselect: true },
            '.chosen-select-no-single': { disable_search_threshold: 8 },
            '.chosen-select-no-results': { no_results_text: 'Oops, nothing found!' },
            '.chosen-select-width': { width: "95%" }
        }
        // for (var selector in config) {
        // $(selector).chosen(config[selector]);
        // }
        $("#submit").on("click", function () {
            console.log("you suck")
            function validateForm() {
                var isValid = true;
                $('.form-control').each(function () {
                    if ($(this).val() === '')
                        isValid = false;
                });
                $('.chosen-select').each(function () {
                    if ($(this).val() === "")
                        isValid = false
                })
                return isValid;
            }
            if (validateForm() == true) {

                var userData = {
                    name: input,
                    climate: $("#q1").val(),
                    bestSeason: $("#q2").val(),

                }



                $.post("/locations/new", userData).done(function (data) {

                    $("#matchName").text(data.name);
                    $("#resultsModal").modal('toggle');
                });
            }
            else {
                alert("Please fill out all fields before submitting!");
            }

            return false;
        });

    </script>


</body>

</html>